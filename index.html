<!doctype html>
<html lang="it" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FMI Training Camp - Dalla Scuola alla Pista</title>
  <meta name="description" content="Il percorso ufficiale FMI per scoprire i talenti della velocità. Open Days, GP Junior e Trofeo Legend per giovani piloti.">
  <meta property="og:title" content="FMI Training Camp - Dalla Scuola alla Pista">
  <meta property="og:description" content="Il percorso ufficiale FMI per scoprire i talenti della velocità">
  <meta property="og:type" content="website">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
        body {
            box-sizing: border-box;
        }
        
        .racing-gradient {
            background: linear-gradient(135deg, #000000 0%, #003762 30%, #b1a96a 50%, #003762 70%, #000000 100%);
        }
        
        .hero-pattern {
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(255,255,255,0.1) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(177,169,106,0.1) 0%, transparent 50%),
                linear-gradient(45deg, transparent 40%, rgba(255,255,255,0.05) 50%, transparent 60%);
        }
        
        .card-hover {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .card-hover:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #b1a96a, #d4c98a);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border: 2px solid #b1a96a;
        }
        
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }
        
        .btn-primary:hover::before {
            left: 100%;
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #d4c98a, #b1a96a);
            transform: translateY(-2px);
            box-shadow: 0 15px 35px rgba(177, 169, 106, 0.6);
            border-color: #d4c98a;
        }
        
        .nav-link {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 0;
            height: 2px;
            background: #b1a96a;
            transition: width 0.3s ease;
        }
        
        .nav-link:hover::after,
        .nav-link.active::after {
            width: 100%;
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #10b981, #f59e0b, #ef4444);
            border-radius: 10px;
            height: 8px;
        }
        
        .wizard-step {
            transition: all 0.3s ease;
        }
   
        html, body {
            max-width: 100%;
            overflow-x: hidden;
        }

        #registration-wizard {
            overscroll-behavior: contain;
        }

        .modal-inner,
        #wizard-body {
            overflow-x: hidden;
        }
   
        .wizard-step.active {
            background: linear-gradient(135deg, #b1a96a, #d4c98a);
            color: white;
        }
        
        .wizard-step.completed {
            background: #10b981;
            color: white;
        }
        
        .floating-card {
            backdrop-filter: blur(20px);
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .event-card {
            background: linear-gradient(145deg, #ffffff, #f8fafc);
            border: 1px solid #e2e8f0;
            transition: all 0.3s ease;
        }
        
        .event-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border-color: #b1a96a;
        }
        
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-weight: 600;
            font-size: 0.875rem;
        }
        
        .status-open { background: #dcfce7; color: #166534; }
        .status-filling { background: #fef3c7; color: #92400e; }
        .status-waitlist { background: #fee2e2; color: #991b1b; }
        .status-closed { background: #f1f5f9; color: #475569; }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .slide-in {
            animation: slideIn 0.8s ease-out;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        /* Force black text on white cards */
        .event-card h3,
        .event-card p,
        .event-card li {
            color: #000000 !important;
        }
   /* Blocca lo scroll orizzontale del wizard */
#registration-wizard .modal-panel {
  touch-action: pan-y;
  overscroll-behavior: contain;
}

#wizard-body {
  overflow-y: auto;
  overflow-x: hidden;
}
    </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="h-full font-sans bg-black"><!-- Navigation -->
  <nav class="fixed top-0 w-full bg-black/95 backdrop-blur-md border-b border-b1a96a z-50" style="border-bottom-color: #b1a96a;">
   <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">
     <div class="flex items-center space-x-3"><img src="logo-fmi.png" alt="Federazione Motociclistica Italiana - Logo" class="h-12 w-auto" onerror="this.src=''; this.style.display='none';">
     <img src="/fmi-open-days/fmi-logo.png"
     alt="Federazione Motociclistica Italiana – Logo"
     class="h-12 w-auto"
     loading="eager" decoding="async">
     <div class="hidden md:flex items-center space-x-8"><a href="#" class="nav-link text-white font-medium active" data-page="home">Home</a> <a href="#" class="nav-link text-white font-medium" data-page="programs">Programmi</a> <a href="#" class="nav-link text-white font-medium" data-page="calendar">Calendario</a>
<a href="#" class="nav-link text-white font-medium" data-page="resources">Risorse</a>
<a href="#" class="nav-link text-white font-medium" data-page="contact">Contatti</a>

<!-- Bottone ISCRIVITI (desktop) -->
<button id="nav-iscriviti"
        type="button"
        class="btn-primary text-white font-bold py-2 px-6 rounded-full text-sm shadow-lg ml-4">
  ISCRIVITI
</button>
</div>

<!-- Bottone hamburger (mobile) -->
<button id="mobile-menu-btn"
        class="md:hidden inline-flex items-center justify-center p-2 rounded-md text-white"
        aria-label="Apri menu"
        aria-expanded="false">
  <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16" />
  </svg>
</button>
   <!-- Mobile Menu (solo mobile) -->
<div id="mobile-menu"
     class="hidden md:hidden absolute left-0 right-0 top-full bg-black border-t border-[#b1a96a]/60 z-50">
  <div class="px-4 py-2 space-y-1">
    <a href="#" class="nav-link block px-3 py-2 font-medium text-white" data-page="home">Home</a>
    <a href="#" class="nav-link block px-3 py-2 font-medium text-white" data-page="programs">Programmi</a>
    <a href="#" class="nav-link block px-3 py-2 font-medium text-white" data-page="calendar">Calendario</a>
    <a href="#" class="nav-link block px-3 py-2 font-medium text-white" data-page="resources">Risorse</a>
    <a href="#" class="nav-link block px-3 py-2 font-medium text-white" data-page="contact">Contatti</a>

    <!-- Bottone mobile dentro al menu (non full-screen) -->
    <div class="pt-2 pb-3 px-3">
      <button id="mobile-iscriviti"
              class="btn-primary w-full text-white font-bold py-2 px-6 rounded-full text-sm shadow-lg">
        ISCRIVITI
      </button>
    </div>
  </div>
</div>
  </nav><!-- Main Content -->
  <main class="pt-16"><!-- HOME PAGE -->
   <div id="page-home" class="page-content"><!-- Hero Section -->
    <section class="racing-gradient hero-pattern min-h-screen flex items-center justify-center relative overflow-hidden">
     <div class="absolute inset-0 bg-black/20"></div>
     <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <div class="fade-in"><img src="logo-fmi.png" alt="Federazione Motociclistica Italiana - Logo" class="h-20 w-auto mx-auto mb-6" onerror="this.src=''; this.style.display='none';">
       <h1 id="hero-title" class="text-5xl md:text-7xl font-bold text-white mb-6 tracking-tight">FMI Open Days</h1>
       <p id="hero-subtitle" class="text-xl md:text-2xl text-gray-200 mb-12 max-w-3xl mx-auto leading-relaxed">Vivi la pista con le moto ufficiali del CIV Junior</p>
       <div class="flex flex-col sm:flex-row gap-6 justify-center items-center"><button id="primary-cta" class="btn-primary text-white font-bold py-4 px-12 rounded-full text-xl shadow-lg"> ISCRIVITI SUBITO </button> <button id="secondary-cta" class="bg-white/10 backdrop-blur-md text-white font-semibold py-4 px-8 rounded-full border-2 border-white/30 text-lg hover:bg-white/20 transition-all"> SCOPRI I PROGRAMMI </button>
       </div>
      </div>
     </div><!-- Floating Stats -->
     <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-8 text-white">
      <div class="text-center">
       <div class="text-3xl font-bold">
        2
       </div>
       <div class="text-sm opacity-80">
        Eventi
       </div>
      </div>
      <div class="text-center">
       <div class="text-3xl font-bold">
        120
       </div>
       <div class="text-sm opacity-80">
        Posti
       </div>
      </div>
     </div>
    </section><!-- USP Section -->
    <section class="py-20" style="background-color: #003762;">
     <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
       <h2 class="text-4xl font-bold text-white mb-4">Perché Scegliere FMI Training Camp</h2>
       <p class="text-xl text-gray-300 max-w-3xl mx-auto">Vivi la pista con le moto ufficiali del CIV Junior e scopri il tuo talento</p>
      </div>
      <div class="grid md:grid-cols-3 gap-8">
       <div class="card-hover floating-card rounded-2xl p-8 text-center border" style="background-color: #000000; border-color: #b1a96a;">
        <div class="w-16 h-16 mx-auto mb-6 rounded-full flex items-center justify-center" style="background: linear-gradient(135deg, #b1a96a, #d4c98a);">
         <svg class="w-8 h-8 text-white" fill="currentColor" viewbox="0 0 24 24"><path d="M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z" /> <circle cx="6" cy="18" r="3" /> <circle cx="18" cy="18" r="3" /> <path d="M9 18H15" /> <path d="M12 9V15" />
         </svg>
        </div>
        <h3 class="text-xl font-bold text-white mb-4">Moto Professionali</h3>
        <p class="text-gray-300">Ohvale GP7, 190 e 160 - le stesse utilizzate nel Campionato Italiano Velocità Junior</p>
       </div>
       <div class="card-hover floating-card rounded-2xl p-8 text-center border" style="background-color: #000000; border-color: #b1a96a;">
        <div class="w-16 h-16 mx-auto mb-6 rounded-full flex items-center justify-center" style="background: linear-gradient(135deg, #003762, #4a6b8a);">
         <svg class="w-8 h-8 text-white" fill="currentColor" viewbox="0 0 24 24"><path d="M12 14l9-5-9-5-9 5 9 5z" /> <path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z" />
         </svg>
        </div>
        <h3 class="text-xl font-bold text-white mb-4">Istruttori FMI</h3>
        <p class="text-gray-300">Tecnici esperti del Settore Tecnico Federale per una formazione di altissimo livello</p>
       </div>
       <div class="card-hover floating-card rounded-2xl p-8 text-center border" style="background-color: #000000; border-color: #b1a96a;">
        <div class="w-16 h-16 mx-auto mb-6 rounded-full flex items-center justify-center" style="background: linear-gradient(135deg, #b1a96a, #d4c98a);">
         <svg class="w-8 h-8 text-white" fill="currentColor" viewbox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
         </svg>
        </div>
        <h3 class="text-xl font-bold text-white mb-4">Accesso Diretto</h3>
        <p class="text-gray-300">I migliori accedono direttamente al Campionato Italiano Junior GP 2026</p>
       </div>
      </div>
     </div>
    </section><!-- Programs Preview -->
    <section class="py-20 bg-black">
     <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
       <h2 class="text-4xl font-bold text-white mb-4">Il Nostro Programma</h2>
       <p class="text-xl text-gray-300">Vivi la pista con le moto ufficiali del CIV Junior</p>
      </div>
      <div class="flex justify-center"><!-- Open Days -->
       <div class="event-card rounded-2xl p-8 border-2 max-w-lg" style="background-color: #ffffff; border-color: #b1a96a;">
        <div class="flex items-center justify-between mb-6">
         <h3 class="text-2xl font-bold">FMI Open Days</h3><span class="status-badge status-open"> <span class="w-2 h-2 bg-green-500 rounded-full"></span> Aperto </span>
        </div>
        <p class="mb-6">Per giovani Under 18 che vogliono scoprire il mondo delle corse. Selezione per il CIV Junior 2026.</p>
        <ul class="space-y-2 text-sm mb-8">
         <li>• Età: 10-17 anni</li>
         <li>• Moto: GP7, 190, 160</li>
         <li>• Equipaggiamento fornito</li>
         <li>• Istruttori FMI</li>
         <li>• Selezione ufficiale CIV Junior 2026</li>
         <li>• Due tappe disponibili</li>
        </ul><button class="w-full text-white font-semibold py-3 px-6 rounded-lg transition-colors" style="background-color: #b1a96a;" onmouseover="this.style.backgroundColor='#d4c98a'" onmouseout="this.style.backgroundColor='#b1a96a'" onclick="showPage('calendar')"> Scopri le Tappe </button>
       </div>
      </div>
     </div>
    </section><!-- Safety Section -->
    <section class="py-20 bg-white">
     <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid lg:grid-cols-2 gap-12 items-center">
       <div class="slide-in">
        <h2 class="text-4xl font-bold text-gray-900 mb-6">Sicurezza al Primo Posto</h2>
        <p class="text-xl text-gray-600 mb-8">La sicurezza è la nostra priorità assoluta. Ogni aspetto del programma è progettato per garantire un'esperienza sicura e formativa.</p>
        <div class="space-y-6">
         <div class="flex items-start space-x-4">
          <div class="flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center">
           <svg class="w-5 h-5 text-green-600" fill="currentColor" viewbox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
           </svg>
          </div>
          <div>
           <h3 class="font-semibold text-gray-900">Briefing Obbligatorio</h3>
           <p class="text-gray-600">Formazione completa su sicurezza e regole prima di ogni sessione</p>
          </div>
         </div>
         <div class="flex items-start space-x-4">
          <div class="flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center">
           <svg class="w-5 h-5 text-green-600" fill="currentColor" viewbox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
           </svg>
          </div>
          <div>
           <h3 class="font-semibold text-gray-900">Equipaggiamento Certificato</h3>
           <p class="text-gray-600">Tute, caschi e protezioni omologate fornite dalla Federazione</p>
          </div>
         </div>
         <div class="flex items-start space-x-4">
          <div class="flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center">
           <svg class="w-5 h-5 text-green-600" fill="currentColor" viewbox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
           </svg>
          </div>
          <div>
           <h3 class="font-semibold text-gray-900">Supervisione Costante</h3>
           <p class="text-gray-600">Istruttori qualificati presenti in ogni momento della giornata</p>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
    </section><!-- FAQ Section -->
    <section class="py-20 bg-gray-50">
     <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
       <h2 class="text-4xl font-bold text-gray-900 mb-4">Domande Frequenti</h2>
       <p class="text-xl text-gray-600">Tutto quello che devi sapere sui nostri programmi</p>
      </div>
      <div class="space-y-6">
       <div class="bg-white rounded-lg shadow-sm border border-gray-200"><button class="faq-toggle w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50"> <span class="font-semibold text-gray-900">Chi può partecipare agli Open Days?</span>
         <svg class="w-5 h-5 text-gray-500 transform transition-transform" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
         </svg></button>
        <div class="faq-content hidden px-6 pb-4">
         <p class="text-gray-600">Gli Open Days sono aperti a tutti i giovani Under 18. Non è necessaria esperienza precedente. Sono previsti limiti di età per le diverse moto: GP7 dai 13 anni, 190 dai 12 anni, 160 dai 10 anni.</p>
        </div>
       </div>
       <div class="bg-white rounded-lg shadow-sm border border-gray-200"><button class="faq-toggle w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50"> <span class="font-semibold text-gray-900">Cosa devo portare?</span>
         <svg class="w-5 h-5 text-gray-500 transform transition-transform" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
         </svg></button>
        <div class="faq-content hidden px-6 pb-4">
         <p class="text-gray-600">È necessario portare solo abbigliamento comodo e scarpe chiuse. Per l'equipaggiamento tecnico (tuta, casco, guanti, stivali) puoi scegliere se portare il tuo o utilizzare quello fornito dalla FMI (soggetto a disponibilità taglie).</p>
        </div>
       </div>
       <div class="bg-white rounded-lg shadow-sm border border-gray-200"><button class="faq-toggle w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50"> <span class="font-semibold text-gray-900">Come funziona la selezione?</span>
         <svg class="w-5 h-5 text-gray-500 transform transition-transform" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
         </svg></button>
        <div class="faq-content hidden px-6 pb-4">
         <p class="text-gray-600">La valutazione non si basa solo sui tempi, ma su capacità di apprendimento, controllo del mezzo, rispetto delle regole e potenziale di crescita. I due migliori delle due giornate accedono al CIV Junior 2026.</p>
        </div>
       </div>
       <div class="bg-white rounded-lg shadow-sm border border-gray-200"><button class="faq-toggle w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50"> <span class="font-semibold text-gray-900">Quanto costa partecipare?</span>
         <svg class="w-5 h-5 text-gray-500 transform transition-transform" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
         </svg></button>
        <div class="faq-content hidden px-6 pb-4">
         <p class="text-gray-600">Gli Open Days sono completamente gratuiti. Per i selezionati, anche l'iscrizione al CIV Junior 2026 è completamente coperta dalla FMI.</p>
        </div>
       </div>
      </div>
     </div>
    </section><!-- Final CTA -->
    <section class="py-20 racing-gradient hero-pattern">
     <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-4xl font-bold text-white mb-6">Pronto a Iniziare la Tua Avventura?</h2>
      <p class="text-xl text-gray-200 mb-12">Non perdere l'opportunità di entrare nel mondo delle corse con il supporto della Federazione Motociclistica Italiana</p>
      <div class="flex flex-col sm:flex-row gap-6 justify-center"><button class="btn-primary text-white font-bold py-4 px-12 rounded-full text-xl shadow-lg" onclick="showRegistrationWizard()"> ISCRIVITI SUBITO </button> <button class="bg-white/10 backdrop-blur-md text-white font-semibold py-4 px-8 rounded-full border-2 border-white/30 text-lg hover:bg-white/20 transition-all" onclick="showPage('calendar')"> VEDI CALENDARIO </button>
      </div>
     </div>
    </section>
   <!-- REGISTRATION WIZARD -->
<div id="registration-wizard"
     class="hidden fixed inset-0 z-50 bg-black/70 flex justify-center items-center">
  <div class="modal-inner bg-white rounded-2xl shadow-2xl w-[92vw] sm:w-full max-w-lg sm:max-w-xl md:max-w-2xl lg:max-w-4xl max-h-[90%] flex flex-col overflow-hidden overflow-x-hidden mx-auto">  
 <!-- Wizard Header -->
    <div class="relative bg-gradient-to-r from-black via-[#0b1b2a] to-[#003762] text-white px-4 pt-5 pb-8 sm:pt-6 sm:pb-10 rounded-t-2xl overflow-hidden">
      <!-- Logo FMI in trasparenza -->
      <img src="fmi-logo.png"
           alt="FMI"
           class="pointer-events-none select-none absolute -top-10 left-1/2 -translate-x-1/2 opacity-10"
           style="width:340px; max-width:none;">

      <!-- Bottone Chiudi -->
      <button id="close-wizard"
        type="button"
        class="absolute right-3 top-3 z-20 inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/15 hover:bg-white/25 transition"
        aria-label="Chiudi finestra iscrizione">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" class="w-5 h-5">
          <path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>

      <!-- Titolo -->
      <div class="relative z-10 text-center">
        <h2 class="text-lg sm:text-2xl font-bold tracking-tight">
          Iscrizione FMI Training Camp
        </h2>
      </div>

      <!-- Steps -->
      <div class="relative z-10 mt-4 mb-4 sm:mb-6 -mx-4 px-4 overflow-x-auto no-scrollbar">
        <div class="flex items-center gap-2 sm:gap-3 w-max">
          <div class="wizard-step active flex items-center gap-2 px-3 py-1.5 rounded-full text-xs sm:text-sm font-medium bg-white/15">
            <span>1</span><span>Profilo</span>
          </div>
          <div class="wizard-step flex items-center gap-2 px-3 py-1.5 rounded-full text-xs sm:text-sm font-medium bg-white/10">
            <span>2</span><span>Percorso</span>
          </div>
          <div class="wizard-step flex items-center gap-2 px-3 py-1.5 rounded-full text-xs sm:text-sm font-medium bg-white/10">
            <span>3</span><span>Logistica</span>
          </div>
          <div class="wizard-step flex items-center gap-2 px-3 py-1.5 rounded-full text-xs sm:text-sm font-medium bg-white/10">
            <span>4</span><span>Conferma</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Wizard Body (scorre solo il corpo) -->
    <div id="wizard-body" class="p-4 sm:p-6 md:p-8 overflow-y-auto flex-1 min-h-0">
      <!-- Step 1: Profilo -->
      <div id="step-1" class="wizard-content">
        <h3 class="text-xl font-bold text-gray-900 mb-6">Dati Personali</h3>
        <form class="space-y-6">
          <div class="grid md:grid-cols-2 gap-4">
            <div>
              <label for="nome" class="block text-sm font-medium text-gray-700 mb-2">Nome *</label>
              <input type="text" id="nome" name="nome" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent">
            </div>
            <div>
              <label for="cognome" class="block text-sm font-medium text-gray-700 mb-2">Cognome *</label>
              <input type="text" id="cognome" name="cognome" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent">
            </div>
          </div>

          <div class="grid md:grid-cols-3 gap-4">
            <div>
              <label for="data-nascita" class="block text-sm font-medium text-gray-700 mb-2">Data di Nascita *</label>
              <input type="date" id="data-nascita" name="data-nascita" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent">
            </div>
            <div>
              <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email *</label>
              <input type="email" id="email" name="email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent">
            </div>
            <div>
              <label for="telefono" class="block text-sm font-medium text-gray-700 mb-2">Telefono *</label>
              <input type="tel" id="telefono" name="telefono" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent">
            </div>
          </div>

          <div>
            <label for="provincia" class="block text-sm font-medium text-gray-700 mb-2">Provincia *</label>
            <select id="provincia" name="provincia" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent">
              <option value="">Seleziona provincia</option>
              <!-- mantieni tutte le option esistenti -->
              <option value="AG">Agrigento</option>
              <option value="AL">Alessandria</option>
              <option value="AN">Ancona</option>
              <option value="AO">Aosta</option>
              <option value="AR">Arezzo</option>
              <option value="AP">Ascoli Piceno</option>
              <option value="AT">Asti</option>
              <option value="AV">Avellino</option>
              <option value="BA">Bari</option>
              <option value="BT">Barletta-Andria-Trani</option>
              <option value="BL">Belluno</option>
              <option value="BN">Benevento</option>
              <option value="BG">Bergamo</option>
              <option value="BI">Biella</option>
              <option value="BO">Bologna</option>
              <option value="BZ">Bolzano</option>
              <option value="BS">Brescia</option>
              <option value="BR">Brindisi</option>
              <option value="CA">Cagliari</option>
              <option value="CL">Caltanissetta</option>
              <option value="CB">Campobasso</option>
              <option value="CI">Carbonia-Iglesias</option>
              <option value="CE">Caserta</option>
              <option value="CT">Catania</option>
              <option value="CZ">Catanzaro</option>
              <option value="CH">Chieti</option>
              <option value="CO">Como</option>
              <option value="CS">Cosenza</option>
              <option value="CR">Cremona</option>
              <option value="KR">Crotone</option>
              <option value="CN">Cuneo</option>
              <option value="EN">Enna</option>
              <option value="FM">Fermo</option>
              <option value="FE">Ferrara</option>
              <option value="FI">Firenze</option>
              <option value="FG">Foggia</option>
              <option value="FC">Forlì-Cesena</option>
              <option value="FR">Frosinone</option>
              <option value="GE">Genova</option>
              <option value="GO">Gorizia</option>
              <option value="GR">Grosseto</option>
              <option value="IM">Imperia</option>
              <option value="IS">Isernia</option>
              <option value="SP">La Spezia</option>
              <option value="AQ">L'Aquila</option>
              <option value="LT">Latina</option>
              <option value="LE">Lecce</option>
              <option value="LC">Lecco</option>
              <option value="LI">Livorno</option>
              <option value="LO">Lodi</option>
              <option value="LU">Lucca</option>
              <option value="MC">Macerata</option>
              <option value="MN">Mantova</option>
              <option value="MS">Massa-Carrara</option>
              <option value="MT">Matera</option>
              <option value="VS">Medio Campidano</option>
              <option value="ME">Messina</option>
              <option value="MI">Milano</option>
              <option value="MO">Modena</option>
              <option value="MB">Monza e Brianza</option>
              <option value="NA">Napoli</option>
              <option value="NO">Novara</option>
              <option value="NU">Nuoro</option>
              <option value="OG">Ogliastra</option>
              <option value="OT">Olbia-Tempio</option>
              <option value="OR">Oristano</option>
              <option value="PD">Padova</option>
              <option value="PA">Palermo</option>
              <option value="PR">Parma</option>
              <option value="PV">Pavia</option>
              <option value="PG">Perugia</option>
              <option value="PU">Pesaro e Urbino</option>
              <option value="PE">Pescara</option>
              <option value="PC">Piacenza</option>
              <option value="PI">Pisa</option>
              <option value="PT">Pistoia</option>
              <option value="PN">Pordenone</option>
              <option value="PZ">Potenza</option>
              <option value="PO">Prato</option>
              <option value="RG">Ragusa</option>
              <option value="RA">Ravenna</option>
              <option value="RC">Reggio Calabria</option>
              <option value="RE">Reggio Emilia</option>
              <option value="RI">Rieti</option>
              <option value="RN">Rimini</option>
              <option value="RM">Roma</option>
              <option value="RO">Rovigo</option>
              <option value="SA">Salerno</option>
              <option value="SS">Sassari</option>
              <option value="SV">Savona</option>
              <option value="SI">Siena</option>
              <option value="SR">Siracusa</option>
              <option value="SO">Sondrio</option>
              <option value="TA">Taranto</option>
              <option value="TE">Teramo</option>
              <option value="TR">Terni</option>
              <option value="TO">Torino</option>
              <option value="TP">Trapani</option>
              <option value="TN">Trento</option>
              <option value="TV">Treviso</option>
              <option value="TS">Trieste</option>
              <option value="UD">Udine</option>
              <option value="VA">Varese</option>
              <option value="VE">Venezia</option>
              <option value="VB">Verbano-Cusio-Ossola</option>
              <option value="VC">Vercelli</option>
              <option value="VR">Verona</option>
              <option value="VV">Vibo Valentia</option>
              <option value="VI">Vicenza</option>
              <option value="VT">Viterbo</option>
            </select>
          </div>

          <!-- Sezione Minorenne -->
          <div id="minorenne-section" class="hidden bg-yellow-50 border border-yellow-200 rounded-lg p-6">
            <h4 class="font-semibold text-gray-900 mb-4">Dati Genitore/Tutore</h4>
            <div class="grid md:grid-cols-2 gap-4">
              <div>
                <label for="genitore-nome" class="block text-sm font-medium text-gray-700 mb-2">Nome Completo *</label>
                <input type="text" id="genitore-nome" name="genitore-nome" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent">
              </div>
              <div>
                <label for="genitore-telefono" class="block text-sm font-medium text-gray-700 mb-2">Telefono *</label>
                <input type="tel" id="genitore-telefono" name="genitore-telefono" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent">
              </div>
            </div>
            <div class="mt-4">
              <label class="flex items-center">
                <input type="checkbox" id="consenso-genitore" name="consenso-genitore" class="mr-3 w-4 h-4 text-red-600">
                <span class="text-sm text-gray-700">Autorizzo la partecipazione del minore alle attività FMI Training Camp</span>
              </label>
            </div>
          </div>
        </form>
      </div>

      <!-- Step 2: Percorso -->
<div id="step-2" class="wizard-content hidden">
       <h3 class="text-xl font-bold text-gray-900 mb-6">Scegli la Tua Tappa</h3>
       <form class="space-y-6">
        <div class="bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6">
         <h4 class="font-semibold text-blue-900 mb-2">FMI Open Days - Selezione CIV Junior 2026</h4>
         <p class="text-blue-800 text-sm">Partecipa alla selezione ufficiale per accedere al Campionato Italiano Velocità Junior. I migliori di ogni tappa accederanno alla fase finale.</p>
        </div>
        <div><label class="block text-sm font-medium text-gray-700 mb-4">Tappa *</label>
         <div class="grid md:grid-cols-2 gap-4"><label class="tappa-card cursor-pointer border-2 border-gray-200 rounded-lg p-6 hover:border-red-500 transition-colors"> <input type="radio" name="tappa" value="vallelunga" class="sr-only">
           <div class="text-center">
            <div class="w-12 h-12 mx-auto mb-3 bg-gray-100 rounded-full flex items-center justify-center">
             <svg class="w-6 h-6 text-gray-600" fill="currentColor" viewbox="0 0 24 24"><path d="M3 3h18v2H3V3zm0 4h18v2H3V7zm0 4h18v2H3v-2zm0 4h18v2H3v-2zm0 4h18v2H3v-2z" />
             </svg>
            </div>
            <h4 class="font-semibold text-gray-900 mb-2">Tappa 1 - Vallelunga</h4>
            <div class="text-sm text-gray-600 space-y-1">
             <p><strong>13 ottobre 2025</strong></p>
             <p>Dalle 09:00 alle 17:00</p>
             <p>Campagnano di Roma</p>
            </div>
            <div class="mt-3"><span class="status-badge status-closed text-xs"> <span class="w-2 h-2 bg-gray-500 rounded-full"></span> Completata </span>
            </div>
           </div></label> <label class="tappa-card cursor-pointer border-2 border-gray-200 rounded-lg p-6 hover:border-red-500 transition-colors"> <input type="radio" name="tappa" value="ottobiano" class="sr-only">
           <div class="text-center">
            <div class="w-12 h-12 mx-auto mb-3 bg-green-100 rounded-full flex items-center justify-center">
             <svg class="w-6 h-6 text-green-600" fill="currentColor" viewbox="0 0 24 24"><path d="M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z" /> <circle cx="6" cy="18" r="3" /> <circle cx="18" cy="18" r="3" /> <path d="M9 18H15" /> <path d="M12 9V15" />
             </svg>
            </div>
            <h4 class="font-semibold text-gray-900 mb-2">Tappa 2 - Ottobiano</h4>
            <div class="text-sm text-gray-600 space-y-1">
             <p><strong>27 ottobre 2025</strong></p>
             <p>Dalle 08:30 alle 17:00</p>
             <p>Ottobiano (PV)</p>
            </div>
            <div class="mt-3"><span class="status-badge status-open text-xs"> <span class="w-2 h-2 bg-green-500 rounded-full"></span> Aperto </span>
            </div>
           </div></label>
         </div>
        </div>
        <div><label for="esperienza" class="block text-sm font-medium text-gray-700 mb-2">Livello di Esperienza *</label> <select id="esperienza" name="esperienza" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"> <option value="">Seleziona il tuo livello</option> <option value="mai-in-pista">Mai stato in pista</option> <option value="poche-uscite">Poche uscite in pista</option> <option value="esperto">Esperto</option> </select>
        </div>
        <div><label for="licenza-fmi" class="block text-sm font-medium text-gray-700 mb-2">Hai avuto una Licenza Velocità FMI nel 2025?</label> <select id="licenza-fmi" name="licenza-fmi" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"> <option value="">Seleziona</option> <option value="no">No</option> <option value="si">Sì</option> <option value="non-so">Non so</option> </select>
         <p class="text-sm text-gray-500 mt-2">Questa informazione è utile per la valutazione finale ma non preclude la partecipazione.</p>
        </div>
       </form>
</div> <!-- /#step-2 -->
<!-- Step 3: Logistica -->
<div id="step-3" class="wizard-content hidden">
       <h3 class="text-xl font-bold text-gray-900 mb-6">Dettagli Logistici</h3>
       <form class="space-y-6"><!-- Moto Selection (only for Open Day) -->
        <div id="moto-selection" class="hidden"><label class="block text-sm font-medium text-gray-700 mb-4">Moto Richiesta *</label>
         <div class="grid md:grid-cols-3 gap-4"><label class="moto-card cursor-pointer border-2 border-gray-200 rounded-lg p-4 hover:border-red-500 transition-colors"> <input type="radio" name="moto-richiesta" value="gp7" class="sr-only">
           <div class="text-center">
            <div class="w-10 h-10 mx-auto mb-2 bg-red-100 rounded-full flex items-center justify-center">
             <svg class="w-5 h-5 text-red-600" fill="currentColor" viewbox="0 0 24 24"><path d="M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z" /> <circle cx="6" cy="18" r="3" /> <circle cx="18" cy="18" r="3" /> <path d="M9 18H15" /> <path d="M12 9V15" />
             </svg>
            </div>
            <h4 class="font-semibold text-gray-900">GP7</h4>
            <p class="text-sm text-gray-600">13+ anni</p>
           </div></label> <label class="moto-card cursor-pointer border-2 border-gray-200 rounded-lg p-4 hover:border-red-500 transition-colors"> <input type="radio" name="moto-richiesta" value="190" class="sr-only">
           <div class="text-center">
            <div class="w-10 h-10 mx-auto mb-2 bg-blue-100 rounded-full flex items-center justify-center">
             <svg class="w-5 h-5 text-blue-600" fill="currentColor" viewbox="0 0 24 24"><path d="M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z" /> <circle cx="6" cy="18" r="3" /> <circle cx="18" cy="18" r="3" /> <path d="M9 18H15" /> <path d="M12 9V15" />
             </svg>
            </div>
            <h4 class="font-semibold text-gray-900">Ohvale 190</h4>
            <p class="text-sm text-gray-600">12+ anni</p>
           </div></label> <label class="moto-card cursor-pointer border-2 border-gray-200 rounded-lg p-4 hover:border-red-500 transition-colors"> <input type="radio" name="moto-richiesta" value="160" class="sr-only">
           <div class="text-center">
            <div class="w-10 h-10 mx-auto mb-2 bg-green-100 rounded-full flex items-center justify-center">
             <svg class="w-5 h-5 text-green-600" fill="currentColor" viewbox="0 0 24 24"><path d="M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z" /> <circle cx="6" cy="18" r="3" /> <circle cx="18" cy="18" r="3" /> <path d="M9 18H15" /> <path d="M12 9V15" />
             </svg>
            </div>
            <h4 class="font-semibold text-gray-900">Ohvale 160</h4>
            <p class="text-sm text-gray-600">10+ anni</p>
           </div></label>
         </div>
        </div><!-- Equipment Request -->
        <div><label class="flex items-center"> <input type="checkbox" id="equipaggiamento" name="equipaggiamento" class="mr-3 w-4 h-4 text-red-600"> <span class="text-sm font-medium text-gray-700">Richiedo l'equipaggiamento tecnico FMI (tuta, casco, guanti, stivali)</span> </label>
        </div><!-- Equipment Sizes -->
        <div id="equipment-sizes" class="hidden bg-blue-50 border border-blue-200 rounded-lg p-6">
         <h4 class="font-semibold text-gray-900 mb-4">Taglie Equipaggiamento</h4>
         <div class="grid md:grid-cols-3 gap-4">
          <div><label for="taglia-tuta" class="block text-sm font-medium text-gray-700 mb-2">Taglia Tuta</label> <select id="taglia-tuta" name="taglia-tuta" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"> <option value="">Seleziona</option> <option value="46">46</option> <option value="48">48</option> <option value="50">50</option> <option value="52">52</option> <option value="54">54</option> <option value="56">56</option> <option value="58">58</option> <option value="60">60</option> </select>
          </div>
          <div><label for="taglia-casco" class="block text-sm font-medium text-gray-700 mb-2">Taglia Casco</label> <select id="taglia-casco" name="taglia-casco" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"> <option value="">Seleziona</option> <option value="XS">XS</option> <option value="S">S</option> <option value="M">M</option> <option value="L">L</option> <option value="XL">XL</option> </select>
          </div>
          <div><label for="taglia-stivali" class="block text-sm font-medium text-gray-700 mb-2">Taglia Stivali</label> <select id="taglia-stivali" name="taglia-stivali" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"> <option value="">Seleziona</option> <option value="35">35</option> <option value="36">36</option> <option value="37">37</option> <option value="38">38</option> <option value="39">39</option> <option value="40">40</option> <option value="41">41</option> <option value="42">42</option> <option value="43">43</option> <option value="44">44</option> <option value="45">45</option> <option value="46">46</option> <option value="47">47</option> <option value="48">48</option> </select>
          </div>
         </div>
        </div><!-- Consents -->
        <div class="space-y-4">
         <h4 class="font-semibold text-gray-900">Consensi Obbligatori</h4><label class="flex items-start"> <input type="checkbox" id="consenso-privacy" name="consenso-privacy" required class="mr-3 w-4 h-4 text-red-600 mt-1"> <span class="text-sm text-gray-700">Accetto il trattamento dei dati personali secondo la normativa vigente e autorizzo FMI al loro utilizzo per le finalità del progetto *</span> </label> <label class="flex items-start"> <input type="checkbox" id="consenso-comunicazioni" name="consenso-comunicazioni" class="mr-3 w-4 h-4 text-red-600 mt-1"> <span class="text-sm text-gray-700">Accetto di ricevere comunicazioni operative relative agli eventi FMI Training Camp</span> </label> <label class="flex items-start"> <input type="checkbox" id="consenso-immagini" name="consenso-immagini" class="mr-3 w-4 h-4 text-red-600 mt-1"> <span class="text-sm text-gray-700">Autorizzo l'utilizzo di foto e video per scopi promozionali FMI</span> </label>
        </div>
       </form>
 </div> <!-- /#step-3 -->
      <!-- Step 4: Conferma -->
      <div id="step-4" class="wizard-content hidden">
        <h3 class="text-xl font-bold text-gray-900 mb-6">Riepilogo Iscrizione</h3>
        <div id="registration-summary" class="space-y-6"></div>
        <div id="registration-success" class="hidden text-center py-8">
          <div class="w-20 h-20 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center">
            <svg class="w-10 h-10 text-green-600" fill="currentColor" viewBox="0 0 24 24">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
            </svg>
          </div>
          <h4 class="text-2xl font-bold text-gray-900 mb-4">Iscrizione Completata!</h4>
          <p class="text-gray-600 mb-6">La tua iscrizione è stata ricevuta e sarà verificata dal nostro team.</p>
          <div class="bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6">
            <h5 class="font-semibold text-blue-900 mb-2">Prossimi Passi</h5>
            <ul class="text-blue-800 text-sm space-y-1">
              <li>• Riceverai una email di conferma entro 24 ore</li>
              <li>• Il tuo stato sarà aggiornato da "In Verifica" a "Confermato" o "Lista d'Attesa"</li>
              <li>• Unisciti al nostro canale WhatsApp per aggiornamenti</li>
            </ul>
          </div>
          <button class="bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-8 rounded-lg transition-colors">
            Unisciti al Canale WhatsApp
          </button>
        </div>
      </div>
    </div>

    <!-- Footer fisso (unico) -->
    <div class="bg-gray-50 px-4 sm:px-8 py-4 rounded-b-2xl flex justify-between items-center gap-3 shrink-0">
      <button id="prev-step" class="bg-gray-300 hover:bg-gray-400 text-gray-700 font-semibold py-2 px-6 rounded-lg transition-colors hidden">
        Indietro
      </button>
      <div class="flex-1"></div>
      <button id="next-step" class="bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors">
        Continua
      </button>
        </div>
  </div>
</div>

<!-- FINE REGISTRATION WIZARD -->
</div> <!-- Chiude il div con id="registration-wizard" -->
   </div><!-- OTHER PAGES (simplified for demo) -->
   <div id="page-programs" class="page-content hidden min-h-screen bg-gray-50 pt-8">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <h1 class="text-4xl font-bold text-gray-900 mb-8">I Nostri Programmi</h1>
     <p class="text-xl text-gray-600 mb-12">Il percorso ufficiale FMI per scoprire e formare i talenti della velocità</p><!-- Main Program - FMI Open Days -->
     <div class="mb-16">
      <div class="text-center mb-12">
       <h2 class="text-3xl font-bold text-gray-900 mb-4">FMI Open Days</h2>
       <p class="text-lg text-gray-600 max-w-3xl mx-auto">La selezione ufficiale per accedere al Campionato Italiano Velocità Junior 2026. I due migliori delle due giornate accederanno al campionato.</p>
      </div>
      <div class="grid lg:grid-cols-2 gap-12 items-center mb-12">
       <div>
        <div class="bg-white rounded-2xl p-8 shadow-lg border-2" style="border-color: #b1a96a;">
         <div class="flex items-center mb-6">
          <div class="w-12 h-12 rounded-full flex items-center justify-center mr-4" style="background: linear-gradient(135deg, #b1a96a, #d4c98a);">
           <svg class="w-6 h-6 text-white" fill="currentColor" viewbox="0 0 24 24"><path d="M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z" /> <circle cx="6" cy="18" r="3" /> <circle cx="18" cy="18" r="3" /> <path d="M9 18H15" /> <path d="M12 9V15" />
           </svg>
          </div>
          <h3 class="text-2xl font-bold text-gray-900">Caratteristiche Principali</h3>
         </div>
         <ul class="space-y-4">
          <li class="flex items-start space-x-3">
           <svg class="w-5 h-5 text-green-600 mt-1" fill="currentColor" viewbox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
           </svg>
           <div><strong class="text-gray-900">Età:</strong> <span class="text-gray-600"> 10-18 anni (limiti specifici per moto)</span>
           </div></li>
          <li class="flex items-start space-x-3">
           <svg class="w-5 h-5 text-green-600 mt-1" fill="currentColor" viewbox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
           </svg>
           <div><strong class="text-gray-900">Moto:</strong> <span class="text-gray-600"> Ohvale GP7, 190 e 160 (ufficiali CIV)</span>
           </div></li>
          <li class="flex items-start space-x-3">
           <svg class="w-5 h-5 text-green-600 mt-1" fill="currentColor" viewbox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
           </svg>
           <div><strong class="text-gray-900">Equipaggiamento:</strong> <span class="text-gray-600"> Puoi portare il tuo o utilizzare quello FMI (soggetto a disponibilità)</span>
           </div></li>
          <li class="flex items-start space-x-3">
           <svg class="w-5 h-5 text-green-600 mt-1" fill="currentColor" viewbox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
           </svg>
           <div><strong class="text-gray-900">Istruttori:</strong> <span class="text-gray-600"> Tecnici del Settore Tecnico FMI</span>
           </div></li>
          <li class="flex items-start space-x-3">
           <svg class="w-5 h-5 text-green-600 mt-1" fill="currentColor" viewbox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
           </svg>
           <div><strong class="text-gray-900">Obiettivo:</strong> <span class="text-gray-600"> Selezione per CIV Junior 2026</span>
           </div></li>
         </ul>
        </div>
       </div>
       <div>
        <div class="bg-gradient-to-br from-blue-600 to-purple-700 rounded-2xl p-8 text-white">
         <h3 class="text-2xl font-bold mb-6">Come Funziona la Selezione</h3>
         <div class="space-y-6">
          <div class="flex items-start space-x-4">
           <div class="flex-shrink-0 w-8 h-8 bg-white/20 rounded-full flex items-center justify-center text-sm font-bold">
            1
           </div>
           <div>
            <h4 class="font-semibold mb-1">Briefing Sicurezza</h4>
            <p class="text-blue-100 text-sm">Formazione obbligatoria su regole e protocolli di sicurezza</p>
           </div>
          </div>
          <div class="flex items-start space-x-4">
           <div class="flex-shrink-0 w-8 h-8 bg-white/20 rounded-full flex items-center justify-center text-sm font-bold">
            2
           </div>
           <div>
            <h4 class="font-semibold mb-1">Sessioni in Pista</h4>
            <p class="text-blue-100 text-sm">Prove pratiche con progressione graduale e supervisione costante</p>
           </div>
          </div>
          <div class="flex items-start space-x-4">
           <div class="flex-shrink-0 w-8 h-8 bg-white/20 rounded-full flex items-center justify-center text-sm font-bold">
            3
           </div>
           <div>
            <h4 class="font-semibold mb-1">Valutazione Tecnica</h4>
            <p class="text-blue-100 text-sm">Analisi di capacità, controllo del mezzo e potenziale di crescita</p>
           </div>
          </div>
          <div class="flex items-start space-x-4">
           <div class="flex-shrink-0 w-8 h-8 bg-white/20 rounded-full flex items-center justify-center text-sm font-bold">
            4
           </div>
           <div>
            <h4 class="font-semibold mb-1">Selezione Finale</h4>
            <p class="text-blue-100 text-sm">I due migliori delle due giornate accedono al CIV Junior 2026</p>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div><!-- Moto Specifications -->
     <div class="mb-16">
      <div class="text-center mb-12">
       <h2 class="text-3xl font-bold text-gray-900 mb-4">Le Moto del Programma</h2>
       <p class="text-lg text-gray-600">Le stesse utilizzate nel Campionato Italiano Velocità Junior</p>
      </div>
      <div class="grid md:grid-cols-3 gap-8"><!-- GP-7 250 -->
       <div class="bg-white rounded-2xl p-6 shadow-lg border border-gray-200">
        <div class="text-center mb-6">
         <div class="w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center">
          <svg class="w-8 h-8 text-red-600" fill="currentColor" viewbox="0 0 24 24"><path d="M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z" /> <circle cx="6" cy="18" r="3" /> <circle cx="18" cy="18" r="3" /> <path d="M9 18H15" /> <path d="M12 9V15" />
          </svg>
         </div>
         <h3 class="text-xl font-bold text-gray-900 mb-2">Ohvale GP-7 250</h3><span class="bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm font-medium">13+ anni</span>
        </div>
        <ul class="space-y-3 text-sm">
         <li class="flex justify-between"><span class="text-gray-600">Cilindrata:</span> <span class="font-medium">250cc</span></li>
         <li class="flex justify-between"><span class="text-gray-600">Potenza:</span> <span class="font-medium">~28 CV</span></li>
         <li class="flex justify-between"><span class="text-gray-600">Peso:</span> <span class="font-medium">~85 kg</span></li>
         <li class="flex justify-between"><span class="text-gray-600">Velocità max:</span> <span class="font-medium">~150 km/h</span></li>
         <li class="flex justify-between"><span class="text-gray-600">Categoria CIV:</span> <span class="font-medium">Junior GP</span></li>
        </ul>
       </div><!-- GP-2 190 4S -->
       <div class="bg-white rounded-2xl p-6 shadow-lg border border-gray-200">
        <div class="text-center mb-6">
         <div class="w-16 h-16 mx-auto mb-4 bg-blue-100 rounded-full flex items-center justify-center">
          <svg class="w-8 h-8 text-blue-600" fill="currentColor" viewbox="0 0 24 24"><path d="M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z" /> <circle cx="6" cy="18" r="3" /> <circle cx="18" cy="18" r="3" /> <path d="M9 18H15" /> <path d="M12 9V15" />
          </svg>
         </div>
         <h3 class="text-xl font-bold text-gray-900 mb-2">Ohvale GP-2 190 4S</h3><span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium">12+ anni</span>
        </div>
        <ul class="space-y-3 text-sm">
         <li class="flex justify-between"><span class="text-gray-600">Cilindrata:</span> <span class="font-medium">190cc</span></li>
         <li class="flex justify-between"><span class="text-gray-600">Potenza:</span> <span class="font-medium">~16-17 CV</span></li>
         <li class="flex justify-between"><span class="text-gray-600">Peso:</span> <span class="font-medium">~80 kg</span></li>
         <li class="flex justify-between"><span class="text-gray-600">Velocità max:</span> <span class="font-medium">~115 km/h</span></li>
         <li class="flex justify-between"><span class="text-gray-600">Categoria CIV:</span> <span class="font-medium">Junior 190</span></li>
        </ul>
       </div><!-- GP-0 160 4S EVO -->
       <div class="bg-white rounded-2xl p-6 shadow-lg border border-gray-200">
        <div class="text-center mb-6">
         <div class="w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center">
          <svg class="w-8 h-8 text-green-600" fill="currentColor" viewbox="0 0 24 24"><path d="M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z" /> <circle cx="6" cy="18" r="3" /> <circle cx="18" cy="18" r="3" /> <path d="M9 18H15" /> <path d="M12 9V15" />
          </svg>
         </div>
         <h3 class="text-xl font-bold text-gray-900 mb-2">Ohvale GP-0 160 4S EVO</h3><span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium">10+ anni</span>
        </div>
        <ul class="space-y-3 text-sm">
         <li class="flex justify-between"><span class="text-gray-600">Cilindrata:</span> <span class="font-medium">160cc</span></li>
         <li class="flex justify-between"><span class="text-gray-600">Potenza:</span> <span class="font-medium">~13-14 CV</span></li>
         <li class="flex justify-between"><span class="text-gray-600">Peso:</span> <span class="font-medium">~70-72 kg</span></li>
         <li class="flex justify-between"><span class="text-gray-600">Velocità max:</span> <span class="font-medium">~100 km/h</span></li>
         <li class="flex justify-between"><span class="text-gray-600">Categoria CIV:</span> <span class="font-medium">Junior 160</span></li>
        </ul>
       </div>
      </div>
     </div><!-- Requirements and Prerequisites -->
     <div class="mb-16">
      <div class="text-center mb-12">
       <h2 class="text-3xl font-bold text-gray-900 mb-4">Requisiti e Prerequisiti</h2>
       <p class="text-lg text-gray-600">Tutto quello che devi sapere per partecipare</p>
      </div>
      <div class="grid lg:grid-cols-2 gap-8"><!-- Requirements -->
       <div class="bg-white rounded-2xl p-8 shadow-lg">
        <h3 class="text-xl font-bold text-gray-900 mb-6 flex items-center">
         <svg class="w-6 h-6 text-green-600 mr-3" fill="currentColor" viewbox="0 0 24 24"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
         </svg> Requisiti Obbligatori</h3>
        <ul class="space-y-4">
         <li class="flex items-start space-x-3">
          <div class="w-2 h-2 bg-green-500 rounded-full mt-2"></div>
          <div><strong>Età:</strong> Compresa tra 10 e 17 anni (limiti specifici per ogni moto)
          </div></li>
         <li class="flex items-start space-x-3">
          <div class="w-2 h-2 bg-green-500 rounded-full mt-2"></div>
          <div><strong>Controllo medico:</strong> Non richiesto per gli Open Days
          </div></li>
         <li class="flex items-start space-x-3">
          <div class="w-2 h-2 bg-green-500 rounded-full mt-2"></div>
          <div><strong>Consenso genitoriale:</strong> Obbligatorio per i minorenni
          </div></li>
         <li class="flex items-start space-x-3">
          <div class="w-2 h-2 bg-green-500 rounded-full mt-2"></div>
          <div><strong>Liberatoria:</strong> Firmata dal partecipante o genitore/tutore
          </div></li>
         <li class="flex items-start space-x-3">
          <div class="w-2 h-2 bg-green-500 rounded-full mt-2"></div>
          <div><strong>Abbigliamento:</strong> Scarpe chiuse e abbigliamento comodo
          </div></li>
        </ul>
       </div>
      </div>
     </div><!-- Path to CIV Junior -->
     <div class="mb-16">
      <div class="bg-gradient-to-r from-blue-600 to-purple-700 rounded-2xl p-8 text-white">
       <div class="text-center mb-8">
        <h2 class="text-3xl font-bold mb-4">Il Percorso verso il CIV Junior 2026</h2>
        <p class="text-xl text-blue-100">Dalla selezione al campionato: ecco come funziona</p>
       </div>
       <div class="grid md:grid-cols-4 gap-6">
        <div class="text-center">
         <div class="w-16 h-16 mx-auto mb-4 bg-white/20 rounded-full flex items-center justify-center"><span class="text-2xl font-bold">1</span>
         </div>
         <h3 class="font-bold mb-2">Open Days</h3>
         <p class="text-sm text-blue-100">Partecipazione a una delle due tappe di selezione</p>
        </div>
        <div class="text-center">
         <div class="w-16 h-16 mx-auto mb-4 bg-white/20 rounded-full flex items-center justify-center"><span class="text-2xl font-bold">2</span>
         </div>
         <h3 class="font-bold mb-2">Selezione</h3>
         <p class="text-sm text-blue-100">I due migliori delle due giornate vengono selezionati</p>
        </div>
        <div class="text-center">
         <div class="w-16 h-16 mx-auto mb-4 bg-white/20 rounded-full flex items-center justify-center"><span class="text-2xl font-bold">3</span>
         </div>
         <h3 class="font-bold mb-2">Formazione</h3>
         <p class="text-sm text-blue-100">Percorso di preparazione tecnica e fisica</p>
        </div>
        <div class="text-center">
         <div class="w-16 h-16 mx-auto mb-4 bg-white/20 rounded-full flex items-center justify-center"><span class="text-2xl font-bold">4</span>
         </div>
         <h3 class="font-bold mb-2">CIV Junior</h3>
         <p class="text-sm text-blue-100">Accesso diretto al campionato 2026</p>
        </div>
       </div>
       <div class="mt-8 text-center"><button class="bg-white text-blue-600 font-bold py-3 px-8 rounded-full hover:bg-blue-50 transition-colors" onclick="showRegistrationWizard()"> Inizia il Tuo Percorso </button>
       </div>
      </div>
     </div><!-- Call to Action -->
     <div class="text-center">
      <div class="bg-white rounded-2xl p-8 shadow-lg border-2" style="border-color: #b1a96a;">
       <h2 class="text-2xl font-bold text-gray-900 mb-4">Pronto a Iniziare?</h2>
       <p class="text-gray-600 mb-6">Non perdere l'opportunità di entrare nel mondo delle corse con il supporto della Federazione Motociclistica Italiana</p>
       <div class="flex flex-col sm:flex-row gap-4 justify-center"><button class="bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-lg transition-colors" onclick="showRegistrationWizard()"> Iscriviti agli Open Days </button> <button class="border-2 border-gray-300 hover:border-gray-400 text-gray-700 font-semibold py-3 px-8 rounded-lg transition-colors" onclick="showPage('calendar')"> Vedi Calendario </button>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div id="page-calendar" class="page-content hidden min-h-screen bg-gray-50 pt-8">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <h1 class="text-4xl font-bold text-gray-900 mb-8">Calendario FMI Open Days</h1>
     <p class="text-xl text-gray-600 mb-12">Le tappe della selezione ufficiale per il CIV Junior 2026</p>
     <div class="grid lg:grid-cols-2 gap-8"><!-- Tappa 1 - Vallelunga -->
      <div class="event-card rounded-2xl p-8">
       <div class="flex items-center justify-between mb-6">
        <h3 class="text-2xl font-bold text-gray-900">Tappa 1 - Vallelunga</h3><span class="status-badge status-closed"> <span class="w-2 h-2 bg-gray-500 rounded-full"></span> Completata </span>
       </div>
       <div class="space-y-3 mb-6">
        <div class="flex items-center space-x-3">
         <svg class="w-5 h-5 text-gray-500" fill="currentColor" viewbox="0 0 20 20"><path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />
         </svg><span class="text-gray-700">Autodromo di Vallelunga, Campagnano di Roma</span>
        </div>
        <div class="flex items-center space-x-3">
         <svg class="w-5 h-5 text-gray-500" fill="currentColor" viewbox="0 0 20 20"><path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
         </svg><span class="text-gray-700">13 ottobre 2025 - Dalle 09:00 alle 17:00</span>
        </div>
       </div>
       <p class="text-gray-600 mb-6">La prima giornata si è svolta sulla storica pista di Vallelunga, ottima per introdurre i ragazzi al paddock professionale del CIV. I partecipanti sono stati valutati per la selezione finale.</p><a href="https://www.google.com/maps/place/Autodromo+Vallelunga+Piero+Taruffi/@42.1567634,12.3668511,676m/data=!3m2!1e3!4b1!4m6!3m5!1s0x132f410e4080fdeb:0x12c20214365b5afa!8m2!3d42.1567634!4d12.369426!16s%2Fm%2F027hh1c?entry=ttu&amp;g_ep=EgoyMDI1MTAyOS4yIKXMDSoASAFQAw%3D%3D" target="_blank" rel="noopener noreferrer" class="w-full text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center space-x-2" style="background-color: #003762;">
        <svg class="w-5 h-5" fill="currentColor" viewbox="0 0 20 20"><path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />
        </svg><span>Vedi su Google Maps</span> </a>
      </div><!-- Tappa 2 - Ottobiano -->
      <div class="event-card rounded-2xl p-8">
       <div class="flex items-center justify-between mb-6">
        <h3 class="text-2xl font-bold text-gray-900">Tappa 2 - Ottobiano</h3><span class="status-badge status-open"> <span class="w-2 h-2 bg-green-500 rounded-full"></span> Aperto </span>
       </div>
       <div class="space-y-3 mb-6">
        <div class="flex items-center space-x-3">
         <svg class="w-5 h-5 text-gray-500" fill="currentColor" viewbox="0 0 20 20"><path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />
         </svg><span class="text-gray-700">Circuito Internazionale di Ottobiano (PV)</span>
        </div>
        <div class="flex items-center space-x-3">
         <svg class="w-5 h-5 text-gray-500" fill="currentColor" viewbox="0 0 20 20"><path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
         </svg><span class="text-gray-700">27 ottobre 2025 - Dalle 08:30 alle 17:00</span>
        </div>
       </div>
       <p class="text-gray-600 mb-6">La seconda tappa della selezione FMI Open Days si svolgerà sul tecnico circuito di Ottobiano. Insieme alla prima tappa, determinerà i due migliori che accederanno al CIV Junior 2026.</p><a href="https://www.google.com/maps/place/Lenovo+South+Milano+circuit/@45.1640627,8.8129043,643m/data=!3m2!1e3!4b1!4m6!3m5!1s0x47871b3592af9101:0xfe0ca9a36376f993!8m2!3d45.1640627!4d8.8154792!16s%2Fg%2F11xdk26vn?entry=ttu&g_ep=EgoyMDI1MTAyOS4yIKXMDSoASAFQAw%3D%3D"
   target="_blank" rel="noopener noreferrer"
   class="w-full text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center space-x-2"
   style="background-color: #003762;">
  <svg class="w-5 h-5" fill="currentColor" viewbox="0 0 20 20">
    <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />
  </svg>
  <span>Vedi su Google Maps</span>
</a>
      </div>
     </div>
    </div>
   </div>
   <div id="page-resources" class="page-content hidden min-h-screen bg-gray-50 pt-8">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <h1 class="text-4xl font-bold text-gray-900 mb-8">Risorse</h1>
     <p class="text-xl text-gray-600 mb-12">Regolamenti, moduli e documenti utili per gli FMI Open Days</p>
     <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
       <div class="w-12 h-12 mb-4 bg-blue-100 rounded-lg flex items-center justify-center">
        <svg class="w-6 h-6 text-blue-600" fill="currentColor" viewbox="0 0 24 24"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
       </div>
       <h3 class="text-xl font-bold text-gray-900 mb-3">Regolamento Tecnico</h3>
       <p class="text-gray-600 mb-4">Tutte le specifiche tecniche e le regole per la partecipazione agli Open Days</p><button class="font-semibold" style="color: #b1a96a;">Scarica PDF</button>
      </div>
      <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
       <div class="w-12 h-12 mb-4 bg-green-100 rounded-lg flex items-center justify-center">
        <svg class="w-6 h-6 text-green-600" fill="currentColor" viewbox="0 0 24 24"><path d="M9 2a1 1 0 000 2h6a1 1 0 100-2H9z" /> <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h10a1 1 0 001-1V3a2 2 0 012 2v16a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h10a1 1 0 100-2H7zm0 4a1 1 0 100 2h4a1 1 0 100-2H7z" clip-rule="evenodd" />
        </svg>
       </div>
       <h3 class="text-xl font-bold text-gray-900 mb-3">Modulo Iscrizione</h3>
       <p class="text-gray-600 mb-4">Modulo di iscrizione cartaceo per backup o iscrizioni offline</p><button class="font-semibold" style="color: #b1a96a;">Scarica PDF</button>
      </div>
      <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
       <div class="w-12 h-12 mb-4 bg-purple-100 rounded-lg flex items-center justify-center">
        <svg class="w-6 h-6 text-purple-600" fill="currentColor" viewbox="0 0 24 24"><path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd" />
        </svg>
       </div>
       <h3 class="text-xl font-bold text-gray-900 mb-3">Privacy Policy</h3>
       <p class="text-gray-600 mb-4">Informativa sul trattamento dei dati personali secondo GDPR</p><button class="font-semibold" style="color: #b1a96a;">Leggi Online</button>
      </div>
      <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
       <div class="w-12 h-12 mb-4 bg-orange-100 rounded-lg flex items-center justify-center">
        <svg class="w-6 h-6 text-orange-600" fill="currentColor" viewbox="0 0 24 24"><path d="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1Z" />
        </svg>
       </div>
       <h3 class="text-xl font-bold text-gray-900 mb-3">Liberatoria</h3>
       <p class="text-gray-600 mb-4">Modulo di liberatoria per la partecipazione alle attività in pista</p><button class="font-semibold" style="color: #b1a96a;">Scarica PDF</button>
      </div>
      <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
       <div class="w-12 h-12 mb-4 bg-indigo-100 rounded-lg flex items-center justify-center">
        <svg class="w-6 h-6 text-indigo-600" fill="currentColor" viewbox="0 0 24 24"><path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
        </svg>
       </div>
       <h3 class="text-xl font-bold text-gray-900 mb-3">Guida Sicurezza</h3>
       <p class="text-gray-600 mb-4">Manuale completo sui protocolli di sicurezza e comportamento in pista</p><button class="font-semibold" style="color: #b1a96a;">Scarica PDF</button>
      </div>
      <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
       <div class="w-12 h-12 mb-4 bg-red-100 rounded-lg flex items-center justify-center">
        <svg class="w-6 h-6 text-red-600" fill="currentColor" viewbox="0 0 24 24"><path d="M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z" /> <circle cx="6" cy="18" r="3" /> <circle cx="18" cy="18" r="3" /> <path d="M9 18H15" /> <path d="M12 9V15" />
        </svg>
       </div>
       <h3 class="text-xl font-bold text-gray-900 mb-3">Specifiche Moto</h3>
       <p class="text-gray-600 mb-4">Caratteristiche tecniche delle moto Ohvale utilizzate negli Open Days</p><button class="text-red-600 hover:text-red-700 font-semibold">Visualizza</button>
      </div>
     </div>
    </div>
   </div>
   <div id="page-contact" class="page-content hidden min-h-screen bg-gray-50 pt-8">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <h1 class="text-4xl font-bold text-gray-900 mb-8">Contatti</h1>
     <p class="text-xl text-gray-600 mb-12">Hai domande sui FMI Open Days? Siamo qui per aiutarti</p>
     <div class="grid lg:grid-cols-2 gap-12">
      <div>
       <h2 class="text-2xl font-bold text-gray-900 mb-6">Invia un Messaggio</h2>
       <form class="space-y-6">
        <div class="grid md:grid-cols-2 gap-4">
         <div><label for="contact-nome" class="block text-sm font-medium text-gray-700 mb-2">Nome *</label> <input type="text" id="contact-nome" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent">
         </div>
         <div><label for="contact-cognome" class="block text-sm font-medium text-gray-700 mb-2">Cognome *</label> <input type="text" id="contact-cognome" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent">
         </div>
        </div>
        <div><label for="contact-email" class="block text-sm font-medium text-gray-700 mb-2">Email *</label> <input type="email" id="contact-email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent">
        </div>
        <div><label for="contact-categoria" class="block text-sm font-medium text-gray-700 mb-2">Categoria *</label> <select id="contact-categoria" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"> <option value="">Seleziona categoria</option> <option value="iscrizione">Domande sull'iscrizione</option> <option value="tecnico">Supporto tecnico</option> <option value="logistica">Informazioni logistiche</option> <option value="equipaggiamento">Equipaggiamento</option> <option value="altro">Altro</option> </select>
        </div>
        <div><label for="contact-messaggio" class="block text-sm font-medium text-gray-700 mb-2">Messaggio *</label> <textarea id="contact-messaggio" rows="5" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"></textarea>
        </div><button type="submit" class="w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors"> Invia Messaggio </button>
       </form>
      </div>
      <div>
       <h2 class="text-2xl font-bold text-gray-900 mb-6">Informazioni di Contatto</h2>
       <div class="space-y-6">
        <div class="flex items-start space-x-4">
         <div class="flex-shrink-0 w-10 h-10 bg-red-100 rounded-full flex items-center justify-center">
          <svg class="w-5 h-5 text-red-600" fill="currentColor" viewbox="0 0 20 20"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z" /> <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z" />
          </svg>
         </div>
         <div>
          <h3 class="font-semibold text-gray-900">Email</h3>
          <p class="text-gray-600">civ@civ.tv</p>
         </div>
        </div>
        <div class="flex items-start space-x-4">
         <div class="flex-shrink-0 w-10 h-10 bg-red-100 rounded-full flex items-center justify-center">
          <svg class="w-5 h-5 text-red-600" fill="currentColor" viewbox="0 0 20 20"><path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />
          </svg>
         </div>
         <div>
          <h3 class="font-semibold text-gray-900">Sede FMI</h3>
          <p class="text-gray-600">Viale Tiziano, 70<br>
           00196 Roma RM</p>
         </div>
        </div>
        <div class="flex items-start space-x-4">
         <div class="flex-shrink-0 w-10 h-10 bg-red-100 rounded-full flex items-center justify-center">
          <svg class="w-5 h-5 text-red-600" fill="currentColor" viewbox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM4.332 8.027a6.012 6.012 0 011.912-2.706C6.512 5.73 6.974 6 7.5 6A1.5 1.5 0 019 7.5V8a2 2 0 004 0 2 2 0 011.523-1.943A5.977 5.977 0 0116 10c0 .34-.028.675-.083 1H15a2 2 0 00-2 2v2.197A5.973 5.973 0 0110 16v-2a2 2 0 00-2-2 2 2 0 01-2-2 2 2 0 00-1.668-1.973z" clip-rule="evenodd" />
          </svg>
         </div>
         <div>
          <h3 class="font-semibold text-gray-900">Orari Ufficio</h3>
          <p class="text-gray-600">Lun-Ven: 9:00-18:00</p>
         </div>
        </div>
       </div>
       <div class="mt-8 p-6 bg-blue-50 border border-blue-200 rounded-lg">
        <h3 class="font-semibold text-blue-900 mb-2">Canale WhatsApp Ufficiale</h3>
        <p class="text-blue-800 text-sm mb-4">Unisciti al nostro canale per ricevere aggiornamenti in tempo reale sugli Open Days</p><button class="bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors"> Unisciti al Canale </button>
       </div>
      </div>
     </div>
    </div>
   </div>
  </main>
  <script>
        // Configuration object
        const defaultConfig = {
            site_title: "Dalla Scuola alla Pista",
            hero_title: "FMI Open Days",
            hero_subtitle: "Vivi la pista con le moto ufficiali del CIV Junior",
            primary_cta: "ISCRIVITI SUBITO",
            secondary_cta: "SCOPRI I PROGRAMMI",
            background_color: "#000000",
            surface_color: "#003762",
            text_color: "#ffffff",
            primary_action_color: "#b1a96a",
            secondary_action_color: "#003762",
            font_family: "Inter",
            font_size: 16
        };

        // Global state
        let currentStep = 1;
        let registrationData = {};
        let currentRecordCount = 0;

        // Data SDK implementation
        const dataHandler = {
            onDataChanged(data) {
                currentRecordCount = data.length;
                console.log(`Current registrations: ${currentRecordCount}`);
                
                // Update any UI elements that show registration counts
                updateRegistrationCounts(data);
            }
        };

        function updateRegistrationCounts(data) {
            // This would update various UI elements showing registration statistics
            // For now, just log the data
            console.log('Registration data updated:', data);
        }

        // Initialize Data SDK
        async function initializeDataSDK() {
            if (window.dataSdk) {
                const initResult = await window.dataSdk.init(dataHandler);
                if (!initResult.isOk) {
                    console.error("Failed to initialize data SDK:", initResult.error);
                }
            }
        }

                // Navigation functionality
        function showPage(pageId) {
            // Nascondi tutte le pagine
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.add('hidden');
            });

            // Mostra la pagina selezionata
            const target = document.getElementById(`page-${pageId}`);
            if (target) {
                target.classList.remove('hidden');
            }

            // Aggiorna lo stato della navbar
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
                if (link.dataset.page === pageId) {
                    link.classList.add('active');
                }
            });

            // Assicura che il body possa scrollare
            document.body.style.overflow = "";
        }

        // Registration wizard functionality
        function showRegistrationWizard() {
            const modal = document.getElementById('registration-wizard');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            // blocca lo scroll del body mentre il modal è aperto
            document.body.style.overflow = 'hidden';

            currentStep = 1;
            updateWizardStep();
        }

        function hideRegistrationWizard() {
  const modal = document.getElementById('registration-wizard');

  // disabilita temporaneamente gli eventi sul modal
  modal.style.pointerEvents = 'none';

  modal.classList.add('hidden');
  modal.classList.remove('flex');
  document.body.style.overflow = '';

  // riabilita al frame successivo
  requestAnimationFrame(() => { modal.style.pointerEvents = ''; });

  resetWizard();
}

        function resetWizard() {
            currentStep = 1;
            registrationData = {};
            updateWizardStep();
            
            // Reset all forms
            document.querySelectorAll('#registration-wizard form').forEach(form => {
                form.reset();
            });
            
            // Hide success message
            document.getElementById('registration-success').classList.add('hidden');
        }

        function updateWizardStep() {
            // Update step indicators
            document.querySelectorAll('.wizard-step').forEach((step, index) => {
                step.classList.remove('active', 'completed');
                if (index + 1 === currentStep) {
                    step.classList.add('active');
                } else if (index + 1 < currentStep) {
                    step.classList.add('completed');
                }
            });
            
            // Show/hide content
            document.querySelectorAll('.wizard-content').forEach((content, index) => {
                if (index + 1 === currentStep) {
                    content.classList.remove('hidden');
                } else {
                    content.classList.add('hidden');
                }
            });
            
            // Update navigation buttons
            const prevBtn = document.getElementById('prev-step');
            const nextBtn = document.getElementById('next-step');
            
            if (currentStep === 1) {
                prevBtn.classList.add('hidden');
            } else {
                prevBtn.classList.remove('hidden');
            }
            
            if (currentStep === 4) {
                nextBtn.textContent = 'Conferma Iscrizione';
            } else {
                nextBtn.textContent = 'Continua';
            }
        }

        function nextStep() {
            if (validateCurrentStep()) {
                if (currentStep < 4) {
                    currentStep++;
                    updateWizardStep();
                    
                    // Special handling for step transitions
                    if (currentStep === 4) {
                        generateSummary();
                    }
                } else {
                    submitRegistration();
                }
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                currentStep--;
                updateWizardStep();
            }
        }

        function validateCurrentStep() {
            const currentContent = document.getElementById(`step-${currentStep}`);
            const requiredFields = currentContent.querySelectorAll('[required]');
            
            for (let field of requiredFields) {
                if (!field.value.trim()) {
                    field.focus();
                    showToast('Compila tutti i campi obbligatori', 'error');
                    return false;
                }
            }
            
            // Special validations
            if (currentStep === 1) {
                const birthDate = new Date(document.getElementById('data-nascita').value);
                const age = calculateAge(birthDate);
                const isMinor = age < 18;
                
                // Show/hide minor section
                const minorSection = document.getElementById('minorenne-section');
                if (isMinor) {
                    minorSection.classList.remove('hidden');
                    const parentConsent = document.getElementById('consenso-genitore');
                    if (!parentConsent.checked) {
                        showToast('È necessario il consenso del genitore/tutore', 'error');
                        return false;
                    }
                } else {
                    minorSection.classList.add('hidden');
                }
                
                registrationData.minorenne = isMinor;
            }
            
            if (currentStep === 2) {
                const tappa = document.querySelector('input[name="tappa"]:checked');
                
                if (!tappa) {
                    showToast('Seleziona una tappa', 'error');
                    return false;
                }
                
                registrationData.tappa = tappa.value;
                registrationData.programma = 'open-day'; // Always Open Day now
            }
            
            return true;
        }

        function calculateAge(birthDate) {
            const today = new Date();
            let age = today.getFullYear() - birthDate.getFullYear();
            const monthDiff = today.getMonth() - birthDate.getMonth();
            
            if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {
                age--;
            }
            
            return age;
        }

        function generateSummary() {
            const summaryContainer = document.getElementById('registration-summary');
            
            // Collect all form data
            const formData = new FormData();
            document.querySelectorAll('#registration-wizard input, #registration-wizard select').forEach(input => {
                if (input.type === 'checkbox' || input.type === 'radio') {
                    if (input.checked) {
                        formData.append(input.name, input.value || 'true');
                    }
                } else if (input.value) {
                    formData.append(input.name, input.value);
                }
            });
            
            // Generate summary HTML
            let summaryHTML = `
                <div class="bg-white border border-gray-200 rounded-lg p-6">
                    <h4 class="font-semibold text-gray-900 mb-4">Dati Personali</h4>
                    <div class="grid md:grid-cols-2 gap-4 text-sm">
                        <div><strong>Nome:</strong> ${formData.get('nome')} ${formData.get('cognome')}</div>
                        <div><strong>Data di nascita:</strong> ${formData.get('data-nascita')}</div>
                        <div><strong>Email:</strong> ${formData.get('email')}</div>
                        <div><strong>Telefono:</strong> ${formData.get('telefono')}</div>
                        <div><strong>Provincia:</strong> ${formData.get('provincia')}</div>
                    </div>
                </div>
                
                <div class="bg-white border border-gray-200 rounded-lg p-6">
                    <h4 class="font-semibold text-gray-900 mb-4">Tappa Selezionata</h4>
                    <div class="text-sm space-y-2">
                        <div><strong>Programma:</strong> FMI Open Days</div>
                        <div><strong>Tappa:</strong> ${getTappaName(formData.get('tappa'))}</div>
                        <div><strong>Esperienza:</strong> ${getExperienceLabel(formData.get('esperienza'))}</div>
                        <div><strong>Licenza FMI 2025:</strong> ${getLicenseLabel(formData.get('licenza-fmi')) || 'Non specificato'}</div>
                    </div>
                </div>
                
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-6">
                    <h4 class="font-semibold text-blue-900 mb-2">Stato Iscrizione</h4>
                    <div class="flex items-center space-x-2">
                        <span class="status-badge bg-yellow-100 text-yellow-800">
                            <span class="w-2 h-2 bg-yellow-500 rounded-full"></span>
                            In Verifica
                        </span>
                    </div>
                    <p class="text-blue-800 text-sm mt-2">La tua iscrizione sarà verificata dal nostro team entro 24 ore.</p>
                </div>
            `;
            
            summaryContainer.innerHTML = summaryHTML;
        }

        function getTappaName(tappa) {
            const names = {
                'vallelunga': 'Tappa 1 - Vallelunga (13 ottobre 2025)',
                'ottobiano': 'Tappa 2 - Ottobiano (27 ottobre 2025)'
            };
            return names[tappa] || tappa;
        }

        function getExperienceLabel(exp) {
            const labels = {
                'mai-in-pista': 'Mai stato in pista',
                'poche-uscite': 'Poche uscite in pista',
                'esperto': 'Esperto'
            };
            return labels[exp] || exp;
        }

        function getLicenseLabel(license) {
            const labels = {
                'no': 'No',
                'si': 'Sì',
                'non-so': 'Non so'
            };
            return labels[license] || license;
        }

        async function submitRegistration() {
            if (currentRecordCount >= 999) {
                showToast('Limite massimo di 999 iscrizioni raggiunto. Riprova più tardi.', 'error');
                return;
            }

            // Show loading state
            const nextBtn = document.getElementById('next-step');
            const originalText = nextBtn.textContent;
            nextBtn.textContent = 'Invio in corso...';
            nextBtn.disabled = true;

            try {
                // Collect all form data
                const formData = {};
                document.querySelectorAll('#registration-wizard input, #registration-wizard select').forEach(input => {
                    if (input.type === 'checkbox' || input.type === 'radio') {
                        if (input.checked) {
                            formData[input.name] = input.value || true;
                        }
                    } else if (input.value) {
                        formData[input.name] = input.value;
                    }
                });

                // Prepare data for SDK
                const registrationRecord = {
                    id: generateId(),
                    nome: formData.nome || '',
                    cognome: formData.cognome || '',
                    data_nascita: formData['data-nascita'] || '',
                    email: formData.email || '',
                    telefono: formData.telefono || '',
                    provincia: formData.provincia || '',
                    minorenne: registrationData.minorenne || false,
                    genitore_nome: formData['genitore-nome'] || '',
                    genitore_telefono: formData['genitore-telefono'] || '',
                    programma: 'open-day',
                    tappa: formData.tappa || '',
                    esperienza: formData.esperienza || '',
                    licenza_fmi: formData['licenza-fmi'] || '',
                    moto_richiesta: formData['moto-richiesta'] || '',
                    equipaggiamento: formData.equipaggiamento || false,
                    taglia_tuta: formData['taglia-tuta'] || '',
                    taglia_casco: formData['taglia-casco'] || '',
                    taglia_stivali: formData['taglia-stivali'] || '',
                    consenso_privacy: formData['consenso-privacy'] || false,
                    consenso_comunicazioni: formData['consenso-comunicazioni'] || false,
                    consenso_immagini: formData['consenso-immagini'] || false,
                    stato: 'in-verifica',
                    timestamp: new Date().toISOString()
                };

                // Submit to Data SDK
                if (window.dataSdk) {
                    const result = await window.dataSdk.create(registrationRecord);
                    
                    if (result.isOk) {
                        // Show success
                        document.getElementById('registration-summary').classList.add('hidden');
                        document.getElementById('registration-success').classList.remove('hidden');
                        
                        // Hide navigation
                        document.querySelector('.wizard-content').parentElement.nextElementSibling.classList.add('hidden');
                        
                        showToast('Iscrizione completata con successo!', 'success');
                    } else {
                        throw new Error(result.error.message || 'Errore durante l\'invio');
                    }
                } else {
                    throw new Error('Sistema di registrazione non disponibile');
                }
            } catch (error) {
                console.error('Registration error:', error);
                showToast('Errore durante l\'invio dell\'iscrizione. Riprova.', 'error');
                
                // Restore button
                nextBtn.textContent = originalText;
                nextBtn.disabled = false;
            }
        }

        function generateId() {
            return 'reg_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        function showToast(message, type = 'info') {
            // Create toast element
            const toast = document.createElement('div');
            toast.className = `fixed top-4 right-4 z-50 px-6 py-3 rounded-lg shadow-lg text-white font-medium ${
                type === 'success' ? 'bg-green-600' : 
                type === 'error' ? 'bg-red-600' : 
                'bg-blue-600'
            }`;
            toast.textContent = message;
            
            document.body.appendChild(toast);
            
            // Remove after 3 seconds
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        // FAQ functionality
        function initializeFAQ() {
            document.querySelectorAll('.faq-toggle').forEach(toggle => {
                toggle.addEventListener('click', () => {
                    const content = toggle.nextElementSibling;
                    const icon = toggle.querySelector('svg');
                    
                    if (content.classList.contains('hidden')) {
                        content.classList.remove('hidden');
                        icon.style.transform = 'rotate(180deg)';
                    } else {
                        content.classList.add('hidden');
                        icon.style.transform = 'rotate(0deg)';
                    }
                });
            });
        }

        // Form interactions
        function initializeFormInteractions() {
            // Tappa card selection
            document.querySelectorAll('.tappa-card').forEach(card => {
                card.addEventListener('click', () => {
                    document.querySelectorAll('.tappa-card').forEach(c => c.classList.remove('border-red-500'));
                    card.classList.add('border-red-500');
                    
                    const radio = card.querySelector('input[type="radio"]');
                    radio.checked = true;
                    
                    // Always show moto selection for Open Days
                    const motoSelection = document.getElementById('moto-selection');
                    motoSelection.classList.remove('hidden');
                });
            });
            
            // Moto card selection
            document.querySelectorAll('.moto-card').forEach(card => {
                card.addEventListener('click', () => {
                    document.querySelectorAll('.moto-card').forEach(c => c.classList.remove('border-red-500'));
                    card.classList.add('border-red-500');
                    
                    const radio = card.querySelector('input[type="radio"]');
                    radio.checked = true;
                });
            });
            
            // Equipment checkbox
            document.getElementById('equipaggiamento').addEventListener('change', (e) => {
                const sizesSection = document.getElementById('equipment-sizes');
                if (e.target.checked) {
                    sizesSection.classList.remove('hidden');
                } else {
                    sizesSection.classList.add('hidden');
                }
            });
            

            
            // Age calculation for minor section
            document.getElementById('data-nascita').addEventListener('change', (e) => {
                const birthDate = new Date(e.target.value);
                const age = calculateAge(birthDate);
                const minorSection = document.getElementById('minorenne-section');
                
                if (age < 18) {
                    minorSection.classList.remove('hidden');
                } else {
                    minorSection.classList.add('hidden');
                }
            });
        }

        // Element SDK implementation
        async function onConfigChange(config) {
            const customFont = config.font_family || defaultConfig.font_family;
            const baseSize = config.font_size || defaultConfig.font_size;
            const baseFontStack = 'system-ui, -apple-system, sans-serif';

            // Update text content
            // Update text content (safe checks)
const siteTitleEl    = document.getElementById('site-title');
const heroTitleEl    = document.getElementById('hero-title');
const heroSubEl      = document.getElementById('hero-subtitle');
const primaryCtaEl   = document.getElementById('primary-cta');
const secondaryCtaEl = document.getElementById('secondary-cta');

if (siteTitleEl)    siteTitleEl.textContent    = config.site_title    || defaultConfig.site_title;
if (heroTitleEl)    heroTitleEl.textContent    = config.hero_title    || defaultConfig.hero_title;
if (heroSubEl)      heroSubEl.textContent      = config.hero_subtitle || defaultConfig.hero_subtitle;
if (primaryCtaEl)   primaryCtaEl.textContent   = config.primary_cta   || defaultConfig.primary_cta;
if (secondaryCtaEl) secondaryCtaEl.textContent = config.secondary_cta || defaultConfig.secondary_cta;

            // Update colors
            const backgroundColor = config.background_color || defaultConfig.background_color;
            const surfaceColor = config.surface_color || defaultConfig.surface_color;
            const textColor = config.text_color || defaultConfig.text_color;
            const primaryActionColor = config.primary_action_color || defaultConfig.primary_action_color;
            const secondaryActionColor = config.secondary_action_color || defaultConfig.secondary_action_color;

            // Apply background color to hero gradient
            document.querySelectorAll('.racing-gradient').forEach(el => {
                el.style.background = `linear-gradient(135deg, ${backgroundColor} 0%, ${primaryActionColor} 30%, ${secondaryActionColor} 70%, #000000 100%)`;
            });

            // Apply surface color to cards
            document.querySelectorAll('.floating-card, .event-card').forEach(card => {
                card.style.backgroundColor = surfaceColor;
            });

            // Apply text color
            document.querySelectorAll('.floating-card h3, .floating-card p, .event-card h3, .event-card p').forEach(el => {
                el.style.color = textColor;
            });

            // Apply primary action color to buttons
            document.querySelectorAll('.btn-primary').forEach(btn => {
                btn.style.background = `linear-gradient(135deg, ${primaryActionColor}, ${primaryActionColor}dd)`;
            });

            // Apply fonts with proportional scaling
            const titleElements = [document.getElementById('hero-title')];
            const subtitleElements = [document.getElementById('hero-subtitle')];
            const brandElements = [document.getElementById('site-title')];
            const buttonElements = [document.getElementById('primary-cta'), document.getElementById('secondary-cta')];

            titleElements.forEach(el => {
                el.style.fontFamily = `${customFont}, ${baseFontStack}`;
                el.style.fontSize = `${baseSize * 3.5}px`;
            });

            subtitleElements.forEach(el => {
                el.style.fontFamily = `${customFont}, ${baseFontStack}`;
                el.style.fontSize = `${baseSize * 1.4}px`;
            });

            brandElements.forEach(el => {
                el.style.fontFamily = `${customFont}, ${baseFontStack}`;
                el.style.fontSize = `${baseSize * 1.25}px`;
            });

            buttonElements.forEach(el => {
                el.style.fontFamily = `${customFont}, ${baseFontStack}`;
                el.style.fontSize = `${baseSize * 1.1}px`;
            });
        }

        function mapToCapabilities(config) {
            return {
                recolorables: [
                    {
                        get: () => config.background_color || defaultConfig.background_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ background_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.surface_color || defaultConfig.surface_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ surface_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.text_color || defaultConfig.text_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ text_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.primary_action_color || defaultConfig.primary_action_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ primary_action_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ secondary_action_color: value });
                            }
                        }
                    }
                ],
                borderables: [],
                fontEditable: {
                    get: () => config.font_family || defaultConfig.font_family,
                    set: (value) => {
                        if (window.elementSdk) {
                            window.elementSdk.setConfig({ font_family: value });
                        }
                    }
                },
                fontSizeable: {
                    get: () => config.font_size || defaultConfig.font_size,
                    set: (value) => {
                        if (window.elementSdk) {
                            window.elementSdk.setConfig({ font_size: value });
                        }
                    }
                }
            };
        }

        function mapToEditPanelValues(config) {
            return new Map([
                ["site_title", config.site_title || defaultConfig.site_title],
                ["hero_title", config.hero_title || defaultConfig.hero_title],
                ["hero_subtitle", config.hero_subtitle || defaultConfig.hero_subtitle],
                ["primary_cta", config.primary_cta || defaultConfig.primary_cta],
                ["secondary_cta", config.secondary_cta || defaultConfig.secondary_cta]
            ]);
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', () => {
  // SDK dati (protetto)
  try { initializeDataSDK(); } catch (e) { console.warn('DataSDK init skipped:', e); }

  // FAQ (protetto)
  try { initializeFAQ(); } catch (e) { console.warn('FAQ init skipped:', e); }

  // Form interactions (protetto)
  try { initializeFormInteractions(); } catch (e) { console.warn('Form interactions init skipped:', e); }

  // Navigation desktop (null-safe)
  document.querySelectorAll('.nav-link').forEach(link => {
    link.addEventListener('click', (e) => {
      e.preventDefault();
      const pid = link.dataset.page;
      if (pid) showPage(pid);
    });
  });

  // CTA buttons (null-safe)
    const primaryCta   = document.getElementById('primary-cta');
    const secondaryCta = document.getElementById('secondary-cta');
    const navIscriviti = document.getElementById('nav-iscriviti');
    const mobileIscr   = document.getElementById('mobile-iscriviti');

    if (primaryCta)   primaryCta.addEventListener('click', showRegistrationWizard);
    if (secondaryCta) secondaryCta.addEventListener('click', () => showPage('calendar'));
    if (navIscriviti) navIscriviti.addEventListener('click', showRegistrationWizard);
    if (mobileIscr)   mobileIscr.addEventListener('click', showRegistrationWizard);

  // Wizard controls (null-safe)
    const closeBtn = document.getElementById('close-wizard');
    const nextBtn  = document.getElementById('next-step');
    const prevBtn  = document.getElementById('prev-step');

   if (closeBtn) {
  closeBtn.addEventListener('click', (e) => {
    e.preventDefault();
    e.stopPropagation();        // blocca il pass-through del click
    hideRegistrationWizard();
  });
}
    if (nextBtn)  nextBtn.addEventListener('click', nextStep);
    if (prevBtn)  prevBtn.addEventListener('click', prevStep);

  // Initialize Element SDK (protetto)
    try {
     if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }
    } catch (e) {
      console.warn('ElementSDK init skipped:', e);
    }
  });
    </script>
    <script>
document.addEventListener("DOMContentLoaded", function () {
  const mobileMenu   = document.getElementById("mobile-menu");
  const toggleBtn    = document.getElementById("mobile-menu-btn");
  const navLinks     = document.querySelectorAll("#mobile-menu a, #mobile-menu button");
  const bodyEl       = document.body;

  if (!mobileMenu || !toggleBtn) return;

  // Apri/chiudi la tendina
  toggleBtn.addEventListener("click", () => {
    mobileMenu.classList.toggle("hidden");
    // lock/unlock scroll sotto la tendina (qualità di vita)
    if (mobileMenu.classList.contains("hidden")) {
      bodyEl.style.overflow = "";
    } else {
      bodyEl.style.overflow = "hidden";
    }
    // accessibilità
    const expanded = toggleBtn.getAttribute("aria-expanded") === "true";
    toggleBtn.setAttribute("aria-expanded", String(!expanded));
  });

  // Chiudi la tendina quando clicchi un link o il bottone ISCRIVITI dentro il menu
  navLinks.forEach(el => {
    el.addEventListener("click", () => {
      mobileMenu.classList.add("hidden");
      bodyEl.style.overflow = "";
      toggleBtn.setAttribute("aria-expanded", "false");
    });
  });

  // Chiudi se clicchi fuori dal menu (tap su overlay/esterno)
  document.addEventListener("click", (e) => {
    const clickInsideMenu = mobileMenu.contains(e.target);
    const clickOnButton   = toggleBtn.contains(e.target);
    const isOpen          = !mobileMenu.classList.contains("hidden");
    if (isOpen && !clickInsideMenu && !clickOnButton) {
      mobileMenu.classList.add("hidden");
      bodyEl.style.overflow = "";
      toggleBtn.setAttribute("aria-expanded", "false");
    }
  });
});
</script>
    </body>
</html>
